<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ù‡∏∏‡πà‡∏ô PM2.5</title>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">

<style>
/* --- 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô --- */
body {
  font-family: 'Sarabun', sans-serif;
  background: #f5f5f5;
  margin: 0;
  padding: 20px;
}

.form-section, .infographic {
  background: #fff;
  padding: 15px;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.infographic { text-align: center; }

h2 {
  background: linear-gradient(90deg, #4caf50, #ffeb3b, #ff9800, #f44336, #9c27b0);
  color: #000;
  padding: 10px;
  border-radius: 8px;
  margin-top: 5px;
}

/* --- 2. ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏© (‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û Banner) --- */
.banner-header {
  width: 100%;
  height: auto;
  display: block;
  margin-top: -20px;
  margin-bottom: 10px;
  border-radius: 10px;
}

/* --- 3. ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å (‡πÅ‡∏ö‡πà‡∏á‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤) --- */
.main-content {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-top: 10px;
  gap: 15px;
}

.stations {
  width: 55%; 
  display: flex; 
  flex-direction: column;
}

.right-sidebar {
  width: 43%; 
  display: flex; 
  justify-content: space-between;
  gap: 8px;
}

.right-sidebar img {
  width: 48%; 
  height: auto;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  background: #fff;
  object-fit: contain;
  align-self: flex-start;
  border: 1px solid #ddd;
}

/* --- 4. ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ --- */
.station {
  margin: 0 0 15px 0;
  padding: 10px;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  color: #fff;
  width: 100%; 
  box-sizing: border-box;
}

.station-name {
  font-size: 20px;
  color: #000;
  font-weight: bold;
  margin-bottom: 5px;
}

.good { background: #2196f3; }
.moderate { background: #4caf50; color: #000; }
.unhealthy { background: #ffeb3b; color: #000; }
.very-unhealthy { background: #ff9800; }
.hazardous { background: #f44336; }

.pm-highlight {
  font-size: 26px;
  font-weight: bold;
  color: #0d47a1;
  background: #bbdefb;
  padding: 10px;
  border-radius: 8px;
  margin: 6px 0;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}

.level-highlight {
  font-size: 26px;
  font-weight: bold;
  color: #b71c1c;
  background: #ffcdd2;
  padding: 10px;
  border-radius: 8px;
  margin: 6px 0;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}

.emoji {
  font-size: 32px;
  line-height: 1.2;
  margin: 6px 0;
  text-align: center;
}

/* --- 5. ‡∏™‡πà‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ --- */
#areaValue::before { content: "üìç "; font-size: 20px; }
#dateValue::before { content: "üìÖ "; font-size: 20px; }
#timeValue::before { content: "‚è∞ "; font-size: 20px; }

#areaValue, #dateValue, #timeValue {
  font-size: 16px; 
  font-weight: bold;
  color: #4a148c;
  background: #e1bee7;
  padding: 4px 8px;
  border-radius: 6px;
  margin-bottom: 5px;
  display: inline-block;
}

/* --- 6. ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (‡∏°‡∏≤‡πÅ‡∏ó‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏°) --- */
.advice-img {
  width: 100%;          /* ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠ */
  height: auto;
  margin-top: 15px;     /* ‡πÄ‡∏ß‡πâ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô */
  border-radius: 10px;  /* ‡∏°‡∏∏‡∏°‡∏°‡∏ô */
  box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* ‡πÄ‡∏á‡∏≤ */
  display: block;
}

/* --- 7. ‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏© A4 --- */
.a4 {
  width: 210mm;
  min-height: 297mm;
  background: #d1c4e9;
  margin: 0 auto;
  padding: 10mm;
  box-sizing: border-box;
  position: relative;
}

.arrow-scale-svg {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 5px;
  margin-top: 10px;
}
.arrow-svg {
  width: 19%;
  min-width: 100px;
  height: auto;
}

button {
  padding: 10px 15px;
  margin-top: 10px;
  cursor: pointer;
  border: none;
  border-radius: 6px;
  font-size: 16px;
}
button:first-of-type { background: #2196f3; color: #fff; }
button:last-of-type { background: #4caf50; color: #fff; }

@media (max-width: 600px) {
  .station { font-size: 14px; }
  h2 { font-size: 18px; }
  
  .main-content, .right-sidebar {
    flex-direction: column; 
  }
  .stations, .right-sidebar, .right-sidebar img {
    width: 100%;
  }
  .right-sidebar { gap: 10px; margin-top: 15px; }
}
</style>
</head>
<body>

  <div class="form-section">
    <h2>‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ù‡∏∏‡πà‡∏ô PM2.5</h2>
    
    <label>‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà: <input id="area" type="text" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà"></label><br><br>
    <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: <input id="date" type="date"></label><br><br>
    <label>‡πÄ‡∏ß‡∏•‡∏≤: 
      ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á <input id="hour" type="number" min="0" max="23" style="width:60px"> 
      ‡∏ô‡∏≤‡∏ó‡∏µ <input id="minute" type="number" min="0" max="59" style="width:60px">
    </label>

    <h3>‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏û‡∏∑‡∏ä‡πÑ‡∏£‡πà ‡∏ï.‡∏´‡πâ‡∏ß‡∏¢‡πÇ‡∏õ‡πà‡∏á</h3>
    <label>‡∏Ñ‡πà‡∏≤ PM2.5: <input id="pm1" type="number" placeholder="‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç"></label><br><br>

    <h3>‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£ ‡∏ï.‡∏°‡∏≤‡∏ö‡∏ï‡∏≤‡∏û‡∏∏‡∏î</h3>
    <label>‡∏Ñ‡πà‡∏≤ PM2.5: <input id="pm2" type="number" placeholder="‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç"></label><br><br>

    <button onclick="generateReport()">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</button> 
    <button onclick="downloadImage()">üì∏ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏û</button> 
  </div>

  <div id="report" class="infographic a4" style="display:none;">
    
    <img src="assets/header_banner.png" alt="‡∏´‡∏±‡∏ß‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©" class="banner-header">

    <h2>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå PM2.5</h2>
    
    <div id="areaValue"></div>
    <div id="dateValue"></div>
    <div id="timeValue"></div>

    <div class="main-content">
      
      <div id="stations" class="stations"></div>

      <div class="right-sidebar">
        <img src="assets/5medthod.png" alt="5 ‡∏ß‡∏¥‡∏ò‡∏µ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô">
        <img src="assets/8medthod.png" alt="8 ‡∏ß‡∏¥‡∏ò‡∏µ‡∏î‡∏π‡πÅ‡∏•‡∏ï‡∏ô‡πÄ‡∏≠‡∏á">
      </div>

    </div>

    <img src="assets/advice_table.jpg" alt="‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥" class="advice-img">

    <h3>‡∏Ñ‡πà‡∏≤‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ù‡∏∏‡πà‡∏ô‡∏•‡∏∞‡∏≠‡∏≠‡∏á PM2.5 (¬µg/m¬≥)</h3>
    <div class="arrow-scale-svg">
      <svg class="arrow-svg" viewBox="0 0 220 100" xmlns="http://www.w3.org/2000/svg">
        <polygon points="0,0 190,0 220,50 190,100 0,100" fill="#2196f3"/>
        <text x="110" y="40" fill="#000000" font-size="20" font-weight="700" text-anchor="middle">0 - 15.0</text>
        <text x="110" y="70" fill="#000000" font-size="18" font-weight="700" text-anchor="middle">‡∏î‡∏µ‡∏°‡∏≤‡∏Å</text>
      </svg>
    
      <svg class="arrow-svg" viewBox="0 0 220 100" xmlns="http://www.w3.org/2000/svg">
        <polygon points="0,0 190,0 220,50 190,100 0,100" fill="#4caf50"/>
        <text x="110" y="40" fill="#000000" font-size="20" font-weight="700" text-anchor="middle">15.1 - 25.0</text>
        <text x="110" y="70" fill="#000000" font-size="18" font-weight="700" text-anchor="middle">‡∏î‡∏µ</text>
      </svg>
    
      <svg class="arrow-svg" viewBox="0 0 220 100" xmlns="http://www.w3.org/2000/svg">
        <polygon points="0,0 190,0 220,50 190,100 0,100" fill="#ffeb3b"/>
        <text x="110" y="40" fill="#000000" font-size="20" font-weight="700" text-anchor="middle">25.1 - 37.5</text>
        <text x="110" y="70" fill="#000000" font-size="18" font-weight="700" text-anchor="middle">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</text>
      </svg>
    
      <svg class="arrow-svg" viewBox="0 0 220 100" xmlns="http://www.w3.org/2000/svg">
        <polygon points="0,0 190,0 220,50 190,100 0,100" fill="#ff9800"/>
        <text x="110" y="40" fill="#000000" font-size="20" font-weight="700" text-anchor="middle">37.6 - 75.0</text>
        <text x="110" y="70" fill="#000000" font-size="16" font-weight="700" text-anchor="middle">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö</text>
      </svg>
    
      <svg class="arrow-svg" viewBox="0 0 220 100" xmlns="http://www.w3.org/2000/svg">
        <polygon points="0,0 190,0 220,50 190,100 0,100" fill="#f44336"/>
        <text x="110" y="40" fill="#000000" font-size="20" font-weight="700" text-anchor="middle">75.1 ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ</text>
        <text x="110" y="70" fill="#000000" font-size="18" font-weight="700" text-anchor="middle">‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</text>
      </svg>
    </div>

  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <script>
    function getLevel(pm) {
      if (pm <= 25) return {text:"‡∏î‡∏µ‡∏°‡∏≤‡∏Å üòä", class:"good"};
      if (pm <= 37.5) return {text:"‡∏î‡∏µ üòê", class:"moderate"};
      if (pm <= 50) return {text:"‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á üòü", class:"unhealthy"};
      if (pm <= 75) return {text:"‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û üò°", class:"very-unhealthy"};
      return {text:"‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û ü§¢", class:"hazardous"};
    }

    function generateReport() {
      document.getElementById("areaValue").innerText = "‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà: " + document.getElementById("area").value;

      const dateInput = document.getElementById("date").value;
      if (dateInput) {
        const dateObj = new Date(dateInput);
        const days = ["‡∏ß‡∏±‡∏ô‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå","‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå","‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£","‡∏ß‡∏±‡∏ô‡∏û‡∏∏‡∏ò","‡∏ß‡∏±‡∏ô‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ","‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå","‡∏ß‡∏±‡∏ô‡πÄ‡∏™‡∏≤‡∏£‡πå"];
        const months = ["‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°","‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå","‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°","‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô","‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°","‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô",
                        "‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°","‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏°","‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô","‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°","‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô","‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°"];
        
        const dayName = days[dateObj.getDay()];
        const day = dateObj.getDate();
        const monthName = months[dateObj.getMonth()];
        const yearBE = dateObj.getFullYear() + 543;

        document.getElementById("dateValue").innerText = `${dayName} ‡∏ó‡∏µ‡πà ${day} ${monthName} ${yearBE}`;
      }

      const hour = document.getElementById("hour").value;
      const minute = document.getElementById("minute").value;
      if (hour !== "" && minute !== "") {
        document.getElementById("timeValue").innerText = `‡πÄ‡∏ß‡∏•‡∏≤: ${hour.padStart(2,'0')}:${minute.padStart(2,'0')} ‡∏ô.`;
      }

      const stationNames = [
        "‡∏à‡∏∏‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡∏±‡∏î:‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏û‡∏∑‡∏ä‡πÑ‡∏£‡πà ‡∏ï.‡∏´‡πâ‡∏ß‡∏¢‡πÇ‡∏õ‡πà‡∏á",
        "‡∏à‡∏∏‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡∏±‡∏î:‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£ ‡∏ï.‡∏°‡∏≤‡∏ö‡∏ï‡∏≤‡∏û‡∏∏‡∏î"
      ];

      let stationsHTML = "";
      for (let i = 1; i <= 2; i++) {
        let name = stationNames[i - 1];
        let pm = parseFloat(document.getElementById("pm" + i).value);
        
        if (!isNaN(pm)) {
          let level = getLevel(pm);
          
          const emoji = level.text.match(/[\u{1F600}-\u{1F64F}]/u)?.[0] || "";
          const levelText = level.text.replace(emoji, "").trim();

          stationsHTML += `
            <div class="station ${level.class}">
              <div class="station-name">${name}</div>
              <div class="pm-highlight">‡∏Ñ‡πà‡∏≤ PM2.5: ${pm} ¬µg/m¬≥</div>
              <div class="emoji">${emoji}</div>
              <div class="level-highlight">‡∏£‡∏∞‡∏î‡∏±‡∏ö: ${levelText}</div>
            </div>`;
        }
      }

      document.getElementById("stations").innerHTML = stationsHTML;

      // ‚ùå ‡∏•‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏≠‡∏≠‡∏Å ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏π‡∏õ‡πÉ‡∏ô HTML ‡πÅ‡∏ó‡∏ô‡πÅ‡∏•‡πâ‡∏ß
      
      document.getElementById("report").style.display = "block";
    }

    function downloadImage() {
      const report = document.getElementById("report");
      html2canvas(report, { scale: 2 }).then(canvas => {
        const link = document.createElement("a");
        link.download = "pm25-report.png";
        link.href = canvas.toDataURL("image/png");
        link.click();
      });
    }
  </script>
</body>
</html>
